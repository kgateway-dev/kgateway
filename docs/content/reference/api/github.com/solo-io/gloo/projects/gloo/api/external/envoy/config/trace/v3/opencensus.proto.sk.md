
---
title: "opencensus.proto"
weight: 5
---

<!-- Code generated by solo-kit. DO NOT EDIT. -->


### Package: `solo.io.envoy.config.trace.v3` 
#### Types:


- [OpenCensusConfig](#opencensusconfig)
- [TraceContext](#tracecontext)
- [TraceConfig](#traceconfig)
- [ProbabilitySampler](#probabilitysampler)
- [ConstantSampler](#constantsampler)
- [ConstantDecision](#constantdecision)
- [RateLimitingSampler](#ratelimitingsampler)
  



##### Source File: [github.com/solo-io/gloo/projects/gloo/api/external/envoy/config/trace/v3/opencensus.proto](https://github.com/solo-io/gloo/blob/master/projects/gloo/api/external/envoy/config/trace/v3/opencensus.proto)





---
### OpenCensusConfig

 
Configuration for the OpenCensus tracer.
[#extension: envoy.tracers.opencensus]

```yaml
"traceConfig": .solo.io.envoy.config.trace.v3.TraceConfig
"ocagentExporterEnabled": bool
"ocagentAddress": string
"ocagentGrpcService": .core.solo.io.ResourceRef
"incomingTraceContext": []solo.io.envoy.config.trace.v3.OpenCensusConfig.TraceContext
"outgoingTraceContext": []solo.io.envoy.config.trace.v3.OpenCensusConfig.TraceContext

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `traceConfig` | [.solo.io.envoy.config.trace.v3.TraceConfig](../opencensus.proto.sk/#traceconfig) | Configuration of when to submit traces to the collector. See https://github.com/census-instrumentation/opencensus-proto/blob/3619b5dda8bff26ff1974714c24de8f6d4953811/src/opencensus/proto/trace/v1/trace_config.proto#L29 for full documentation. |
| `ocagentExporterEnabled` | `bool` | Enables the OpenCensus agent if set to true. ocagent_address or ocagent_grpc_service must also be set. |
| `ocagentAddress` | `string` | Address of the OpenCensus Agent. Must be provided in gRPC format. |
| `ocagentGrpcService` | [.core.solo.io.ResourceRef](../../../../../../../../../../solo-kit/api/v1/ref.proto.sk/#resourceref) | Only used if ocagent_address is empty. |
| `incomingTraceContext` | [[]solo.io.envoy.config.trace.v3.OpenCensusConfig.TraceContext](../opencensus.proto.sk/#tracecontext) | List of incoming trace context headers to accept. First one found wins. |
| `outgoingTraceContext` | [[]solo.io.envoy.config.trace.v3.OpenCensusConfig.TraceContext](../opencensus.proto.sk/#tracecontext) | List of outgoing trace context headers we will produce. |




---
### TraceContext



| Name | Description |
| ----- | ----------- | 
| `NONE` | No-op default, no trace context is utilized. |
| `TRACE_CONTEXT` | W3C Trace-Context format "traceparent:" header. |
| `GRPC_TRACE_BIN` | Binary "grpc-trace-bin:" header. |
| `CLOUD_TRACE_CONTEXT` | "X-Cloud-Trace-Context:" header. |
| `B3` | X-B3-* headers. |




---
### TraceConfig



```yaml
"probabilitySampler": .solo.io.envoy.config.trace.v3.ProbabilitySampler
"constantSampler": .solo.io.envoy.config.trace.v3.ConstantSampler
"rateLimitingSampler": .solo.io.envoy.config.trace.v3.RateLimitingSampler
"maxNumberOfAttributes": int
"maxNumberOfAnnotations": int
"maxNumberOfMessageEvents": int
"maxNumberOfLinks": int

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `probabilitySampler` | [.solo.io.envoy.config.trace.v3.ProbabilitySampler](../opencensus.proto.sk/#probabilitysampler) |  Only one of `probabilitySampler`, `constantSampler`, or `rateLimitingSampler` can be set. |
| `constantSampler` | [.solo.io.envoy.config.trace.v3.ConstantSampler](../opencensus.proto.sk/#constantsampler) |  Only one of `constantSampler`, `probabilitySampler`, or `rateLimitingSampler` can be set. |
| `rateLimitingSampler` | [.solo.io.envoy.config.trace.v3.RateLimitingSampler](../opencensus.proto.sk/#ratelimitingsampler) |  Only one of `rateLimitingSampler`, `probabilitySampler`, or `constantSampler` can be set. |
| `maxNumberOfAttributes` | `int` | The global default max number of attributes per span. |
| `maxNumberOfAnnotations` | `int` | The global default max number of annotation events per span. |
| `maxNumberOfMessageEvents` | `int` | The global default max number of message events per span. |
| `maxNumberOfLinks` | `int` | The global default max number of link entries per span. |




---
### ProbabilitySampler

 
Sampler that tries to uniformly sample traces with a given probability.
The probability of sampling a trace is equal to that of the specified probability.

```yaml
"samplingProbability": float

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `samplingProbability` | `float` | The desired probability of sampling. Must be within [0.0, 1.0]. |




---
### ConstantSampler

 
Sampler that always makes a constant decision on span sampling.

```yaml
"decision": .solo.io.envoy.config.trace.v3.ConstantSampler.ConstantDecision

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `decision` | [.solo.io.envoy.config.trace.v3.ConstantSampler.ConstantDecision](../opencensus.proto.sk/#constantdecision) |  |




---
### ConstantDecision

 
How spans should be sampled:
- Always off
- Always on
- Always follow the parent Span's decision (off if no parent).

| Name | Description |
| ----- | ----------- | 
| `ALWAYS_OFF` |  |
| `ALWAYS_ON` |  |
| `ALWAYS_PARENT` |  |




---
### RateLimitingSampler

 
Sampler that tries to sample with a rate per time window.

```yaml
"qps": int

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `qps` | `int` | Rate per second. |





<!-- Start of HubSpot Embed Code -->
<script type="text/javascript" id="hs-script-loader" async defer src="//js.hs-scripts.com/5130874.js"></script>
<!-- End of HubSpot Embed Code -->
